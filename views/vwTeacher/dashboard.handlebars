{{#fill_section 'css'}}
<link rel="stylesheet" href="/statics/css/teacher/teacher-dashboard.css">
{{/fill_section}}

<section class="profile-hero">
  <div class="container">
    <div class="profile-card">
      <div class="profile-avatar-wrapper">
        <img src="{{user.avatar_url}}"
          onerror="this.onerror=null; this.src='https://cdn-icons-png.flaticon.com/512/847/847969.png';"
          class="profile-avatar" alt="User avatar" />
      </div>
      <div class="profile-info">
        <h1 class="profile-name">{{user.name}}</h1>
        <p class="profile-email"><i class="bi bi-envelope"></i> {{user.email}}</p>
        {{#if user.bio}}
        <p class="profile-bio">{{user.bio}}</p>
        {{else}}
        <p class="profile-bio text-muted">Bạn chưa cập nhật tiểu sử cá nhân.</p>
        {{/if}}
      </div>
    </div>
  </div>
</section>

<div class="card shadow-sm">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h4 class="card-title mb-0">Khóa học mới nhất</h4>
      <a href="/teacher/courses" class="text-decoration-none">Xem tất cả</a>
    </div>
    {{#if recentCourses.length}}
    <div class="recent-course-list">
      {{#each recentCourses}}
      <div class="recent-course-item">
        <img src="{{thumbnail_url}}" alt="{{title}}">
        <div class="recent-course-body">
          <div class="d-flex align-items-center gap-2 mb-1">
            <span class="badge bg-light text-dark text-uppercase">{{status}}</span>
            <span class="text-muted small">Cập nhật {{formatDate last_updated}}</span>
          </div>
          <h5 class="mb-1">{{title}}</h5>
          <div class="recent-meta">
            <span><i class="bi bi-people"></i> {{formatNumber enrollment_count}} HV</span>
            <span><i class="bi bi-star"></i> {{rating_avg}}</span>
            <span><i class="bi bi-cash"></i> {{formatCurrency revenue}}</span>
          </div>
        </div>
        <a href="/teacher/course/{{id}}" class="btn btn-outline-primary btn-sm">
          Quản lý
        </a>
      </div>
      {{/each}}
    </div>
    {{else}}
    <div class="empty-state text-center">
      <i class="bi bi-easel"></i>
      <h5>Bạn chưa tạo khóa học nào</h5>
      <p class="text-muted">Tạo khóa học đầu tiên để chia sẻ kiến thức với học viên.</p>
      <a href="/teacher/create-course" class="btn btn-primary">Tạo khóa học mới</a>
    </div>
    {{/if}}
  </div>
</div>